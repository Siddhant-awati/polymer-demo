<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="city-details.html">

<dom-module id="result-template">
	<style include="iron-flex iron-flex-alignment"></style>
	<style>
	.container{
		padding:0;
		min-height: 400px;
	}
	div.card{
		width: 98%;
		margin: 4% auto;	
		border-radius: 5px;
	}
	paper-material{
		background: #ffffff;
	}
	.cityDetails{
		display: none;
	}
	ul.report{
		list-style-type: none;
	}
	ul.report li{
		padding: 10px;
	}
	ul.report li.first{
		background-color: #d6d6d6;
	}
	li + li{
		border-top: 1px dotted #d6d6d6;
	}
	.highlighter{
		text-transform: uppercase;
		font-weight: bolder;
		font-family: 'Noto Serif Bold', serif;
		font-style: italic;
	}
	@media only screen and (min-width: 600px){
		div.card{
			width: 48%;
			margin: 1% auto;
		}
	}
	@media only screen and (min-width: 1200px){
		div.card{
			width: 23%;
		}
	}
	</style>
	<template>
		<city-details class="cityDetails" ajax-data={{ajaxData}}></city-details>
		<div class="container horizontal layout wrap">
			<template is="dom-repeat" items={{ajaxData.list}}>
				<div class="card">
					<paper-material>
						<ul class="report">
							<li class="first">
							<time>{{updateDateDetails(index)}}</time> - 
							<template is="dom-repeat" items={{item.weather}} as="weather">
							<span class="highlighter">{{weather.description}} </span>
							</template>
							</li>
							<li>Max Temp(Celsius) - <span class="highlighter">{{item.temp.max}}</span></li>
							<li>Max Temp(Celsius) - <span class="highlighter">{{item.temp.min}}</span></li>
							<li>Humidity(%) - <span class="highlighter">{{item.humidity}}</span></li>
							<li>Atmospheric pressure(hPa) - <span class="highlighter">{{item.pressure}}</span></li>
							<li>Wind direction(degrees)- <span class="highlighter">{{item.deg}}</span></li>
							<li>Cloudiness(%) - <span class="highlighter">{{item.clouds}}</span></li>
							<li>Wind speed(m/s) - <span class="highlighter">{{item.speed}}</span></li>
						</ul>
					</paper-material>
				</div>
			</template>
		</div>
	</template>
	<script>
		Polymer({
			is:"result-template",
			updateDateDetails:function(index){
				index += 1;
				var today = new Date();
				var dt = new Date();
				dt.setDate(today.getDate() + index);
				return dt.toDateString();
				
			}	
		})
	</script>
</dom-module>